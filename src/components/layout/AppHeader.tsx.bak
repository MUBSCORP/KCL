'use client';
import { AppBar, Toolbar, Typography, Box, IconButton, Avatar } from '@mui/material';
import LogoutIcon from '@mui/icons-material/Logout';
import { useAuthStore } from '@/store/auth.store';

export default function AppHeader() {
    const clear = useAuthStore((s) => s.clear);
    const user = useAuthStore((s) => s.user);

    return (
        <AppBar position="sticky" elevation={1} color="inherit">
            <Toolbar>
                <Typography variant="h6" sx={{ flexGrow: 1 }}>KDASH</Typography>
                <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>
                    <Avatar sx={{ width: 28, height: 28 }}>{user?.displayName?.[0] || 'U'}</Avatar>
                    <Typography variant="body2">{user?.displayName || user?.username}</Typography>
                    <IconButton onClick={clear} title="Logout"><LogoutIcon /></IconButton>
                </Box>
            </Toolbar>
        </AppBar>
    );
}
